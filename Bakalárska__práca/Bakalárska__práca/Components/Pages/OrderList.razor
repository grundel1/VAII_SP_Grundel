@page "/orderList"
@inject IOrderService OrderService
@attribute [StreamRendering]

<h3>Objednávky</h3>

 @if (orders == null)
{
    <span>Loading...</span>
}
else if (orders.Count == 0)
{
    <span>Nenašli sa žiadne objednávky.</span>
} 
else
{
     <ul>
        @foreach (var order in orders)
        {
            <li>@order.Name <EditOrderButton Id="order.Id"/></li>
        }
    </ul> 
}
<CreateOrderButton />

@code
{
    List<Order>? orders = null;

    protected override async Task OnInitializedAsync()
    {
        orders = await OrderService.GetAllOrders();
    }
}
